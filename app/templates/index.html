{% extends "base.html" %}
{% block content %}
  <div class="grid gap-6 md:grid-cols-2">
    <section class="rounded-2xl border border-white/10 bg-white/5 p-6">
      <h1 class="text-2xl font-semibold">Neuen 3D‑Druckauftrag einreichen</h1>
      <p class="mt-2 text-slate-300">
        Lade ein Bild hoch und/oder gib einen Link zum Modell an. Danach bekommst du eine Tracking‑Seite, auf der du Preisangebote annehmen oder ablehnen kannst.
      </p>

      {% if error %}
        <div class="mt-4 rounded-xl border border-red-500/30 bg-red-500/10 p-3 text-red-200">
          {{ error }}
        </div>
      {% endif %}

      <form class="mt-6 space-y-4" method="post" action="/submit" enctype="multipart/form-data">
        <div>
          <label for="customer_name" class="text-sm text-slate-300">Name <span class="text-red-400" aria-hidden="true">*</span></label>
          <input id="customer_name" name="customer_name" required class="mt-1 w-full rounded-xl bg-slate-900/60 border border-white/10 px-3 py-2 outline-none focus:ring-2 focus:ring-cyan-400" placeholder="Max Mustermann" />
        </div>

        <div>
          <label for="customer_email" class="text-sm text-slate-300">E‑Mail <span class="text-red-400" aria-hidden="true">*</span></label>
          <input id="customer_email" name="customer_email" type="email" required class="mt-1 w-full rounded-xl bg-slate-900/60 border border-white/10 px-3 py-2 outline-none focus:ring-2 focus:ring-cyan-400" placeholder="max@beispiel.de" />
        </div>

        <div>
          <label for="description" class="text-sm text-slate-300">Beschreibung <span class="text-red-400" aria-hidden="true">*</span></label>
          <textarea id="description" name="description" required rows="5" class="mt-1 w-full rounded-xl bg-slate-900/60 border border-white/10 px-3 py-2 outline-none focus:ring-2 focus:ring-cyan-400" placeholder="Was soll gedruckt werden? Material / Größe / Farbe / Deadline…"></textarea>
        </div>

        <div>
          <label for="model_link" class="text-sm text-slate-300">Link zum Modell (optional)</label>
          <input id="model_link" name="model_link" class="mt-1 w-full rounded-xl bg-slate-900/60 border border-white/10 px-3 py-2 outline-none focus:ring-2 focus:ring-cyan-400" placeholder="https://… (Printables, Thingiverse, Onshape, Google Drive…)" />
        </div>

        <div>
          <label for="image" class="text-sm text-slate-300">Bild hochladen (optional)</label>
          <input id="image" name="image" type="file" accept="image/*" class="mt-1 w-full rounded-xl bg-slate-900/60 border border-white/10 px-3 py-2 outline-none focus:ring-2 focus:ring-cyan-400" />
          <div class="mt-1 text-xs text-slate-400">Max. {{ request.app.state.max_upload_mb if request.app.state else "" }} MB (Konfig: MAX_UPLOAD_MB)</div>
        </div>

        <button class="w-full rounded-xl bg-gradient-to-r from-cyan-400 to-fuchsia-500 px-4 py-2 font-semibold text-slate-950 hover:opacity-95">
          Auftrag abschicken
        </button>
      </form>
    </section>

    <aside class="rounded-2xl border border-white/10 bg-white/5 p-6">
      <h2 class="text-xl font-semibold">So läuft’s ab</h2>
      <ol class="mt-4 space-y-3 text-slate-200">
        <li class="flex gap-3"><span class="mt-1 h-6 w-6 shrink-0 rounded-lg bg-white/10 grid place-items-center">1</span> Du reichst deinen Auftrag ein.</li>
        <li class="flex gap-3"><span class="mt-1 h-6 w-6 shrink-0 rounded-lg bg-white/10 grid place-items-center">2</span> Admin prüft, nimmt an oder lehnt ab.</li>
        <li class="flex gap-3"><span class="mt-1 h-6 w-6 shrink-0 rounded-lg bg-white/10 grid place-items-center">3</span> Bei Annahme bekommst du ein Preisangebot auf deiner Tracking‑Seite.</li>
        <li class="flex gap-3"><span class="mt-1 h-6 w-6 shrink-0 rounded-lg bg-white/10 grid place-items-center">4</span> Du nimmst an oder lehnst ab. Danach wird der Auftrag fertiggestellt und abgeschlossen.</li>
      </ol>

      <div class="mt-6 rounded-xl border border-white/10 bg-slate-900/40 p-4 text-sm text-slate-300">
        Nerd‑Hinweis: Einfaches Tool um 3D Drucke zu managen.
      </div>
    </aside>
  </div>
{% endblock %}
